"use client";

const sampleSvg = `<svg version="1.1" xmlns="http://www.w3.org/2000/svg" style="display: block;" viewBox="0 0 2048 2048" width="1024" height="1024" preserveAspectRatio="none">
<path transform="translate(0,0)" fill="rgb(75,55,53)" d="M 946.466 464.242 C 946.16 445.31 945.982 426.375 945.932 407.44 C 945.837 387.219 942.854 366.476 957.419 350.685 C 968.561 338.605 985.853 339.789 1001.02 339.931 C 1017.57 341.178 1060.4 337.969 1074.34 341.607 C 1080.28 343.165 1085.67 346.364 1089.88 350.84 C 1104.51 366.146 1101.63 389.315 1101.52 408.956 L 1101.17 464.367 C 1112.11 466.003 1136.28 471.225 1146.77 475.514 C 1155.04 460.149 1185.65 407.385 1196.38 396.75 C 1201.02 392.16 1206.5 389.582 1212.72 387.791 C 1228.76 383.175 1240.19 389.608 1253.6 397.401 C 1272.4 408.316 1320.83 434.868 1333.93 448.511 C 1338.86 453.648 1342.28 460.689 1344.16 467.5 C 1346.39 475.581 1346.46 483.701 1344.45 491.829 C 1340.02 509.757 1312.77 555.445 1302.14 574.082 C 1346.19 630.505 1344.76 671.685 1345.78 738.303 L 1347.09 831.916 L 1347.4 832.756 C 1374.59 833.366 1404.39 828.685 1424.68 850.797 C 1433.71 860.423 1441.34 875.677 1443.36 888.804 C 1445.95 905.642 1445.03 924.894 1445.03 942.135 C 1444.99 997.87 1445.19 1053.67 1445.04 1109.4 C 1444.97 1131.21 1437.33 1153.21 1421.22 1168.3 C 1398.82 1189.26 1357.48 1184.35 1328.43 1183.6 C 1324.79 1206.47 1320.71 1229.27 1316.17 1251.99 C 1312.8 1268.62 1308.43 1286.4 1305.44 1302.87 C 1302.22 1315.71 1298.95 1330.11 1295.37 1342.72 C 1292.84 1351.95 1289.65 1365.14 1286.74 1373.93 C 1283.93 1385.03 1279.29 1400.86 1275.46 1411.71 C 1243.2 1511.01 1183.52 1673.62 1084.86 1724.07 C 1052.9 1740.56 1015.64 1743.46 981.518 1732.12 C 871.261 1695.22 804.187 1512.71 772.274 1411.76 L 760.645 1374.03 C 758.779 1364.6 755.04 1352.38 752.434 1342.91 C 749.022 1330 745.021 1315.89 742.299 1302.92 C 733.398 1261.01 726.163 1225.75 719.778 1182.99 C 684.794 1183.38 641.744 1190.91 618.589 1159.94 C 599.524 1134.43 602.056 1106.17 602.028 1076.28 L 601.969 1007.97 L 601.953 939.876 C 601.957 923.124 601.266 906.526 603.842 889.919 C 608.218 861.717 628.656 835.517 658.605 832.895 C 665.435 831.344 692.723 831.938 700.981 831.981 C 700.873 799.443 701.019 766.906 701.418 734.371 C 702.381 667.001 702.275 629.668 745.711 574.149 C 724.403 531.972 668.22 468.567 729.76 436.536 C 757.755 421.964 822.008 364.233 849.249 395.38 C 864.563 412.889 887.963 454.594 900.826 475.8 C 917.317 470.546 929.245 467.33 946.466 464.242 z"/>
<path transform="translate(0,0)" fill="rgb(75,55,53)" d="M 946.466 464.242 C 946.16 445.31 945.982 426.375 945.932 407.44 C 945.837 387.219 942.854 366.476 957.419 350.685 C 968.561 338.605 985.853 339.789 1001.02 339.931 C 1017.57 341.178 1060.4 337.969 1074.34 341.607 C 1080.28 343.165 1085.67 346.364 1089.88 350.84 C 1104.51 366.146 1101.63 389.315 1101.52 408.956 L 1101.17 464.367 C 1112.11 466.003 1136.28 471.225 1146.77 475.514 C 1155.04 460.149 1185.65 407.385 1196.38 396.75 C 1201.02 392.16 1206.5 389.582 1212.72 387.791 C 1228.76 383.175 1240.19 389.608 1253.6 397.401 C 1272.4 408.316 1320.83 434.868 1333.93 448.511 C 1338.86 453.648 1342.28 460.689 1344.16 467.5 C 1346.39 475.581 1346.46 483.701 1344.45 491.829 C 1340.02 509.757 1312.77 555.445 1302.14 574.082 C 1346.19 630.505 1344.76 671.685 1345.78 738.303 L 1347.09 831.916 C 1344.13 830.431 1333.27 821.524 1329.66 818.747 C 1322.12 812.972 1314.32 807.557 1306.28 802.518 C 1240.7 761.274 1153.46 745.308 1083.93 785.983 C 1056.62 801.958 1039.6 822.247 1023.34 848.641 C 1018.68 840.327 1013.37 832.397 1007.45 824.926 C 936.591 735.532 812.505 752.224 728.014 811.397 C 718.5 818.061 710.019 824.694 700.981 831.981 C 700.873 799.443 701.019 766.906 701.418 734.371 C 702.381 667.001 702.275 629.668 745.711 574.149 C 724.403 531.972 668.22 468.567 729.76 436.536 C 757.755 421.964 822.008 364.233 849.249 395.38 C 864.563 412.889 887.963 454.594 900.826 475.8 C 917.317 470.546 929.245 467.33 946.466 464.242 z"/>
<path transform="translate(0,0)" fill="rgb(37,161,109)" d="M 745.711 574.149 C 724.403 531.972 668.22 468.567 729.76 436.536 C 757.755 421.964 822.008 364.233 849.249 395.38 C 864.563 412.889 887.963 454.594 900.826 475.8 C 838.539 497.595 789.664 521.911 745.711 574.149 z"/>
<path transform="translate(0,0)" fill="rgb(37,161,109)" d="M 1146.77 475.514 C 1155.04 460.149 1185.65 407.385 1196.38 396.75 C 1201.02 392.16 1206.5 389.582 1212.72 387.791 C 1228.76 383.175 1240.19 389.608 1253.6 397.401 C 1272.4 408.316 1320.83 434.868 1333.93 448.511 C 1338.86 453.648 1342.28 460.689 1344.16 467.5 C 1346.39 475.581 1346.46 483.701 1344.45 491.829 C 1340.02 509.757 1312.77 555.445 1302.14 574.082 C 1265.12 526.914 1203.43 493.02 1146.77 475.514 z"/>
<path transform="translate(0,0)" fill="rgb(37,161,109)" d="M 946.466 464.242 C 946.16 445.31 945.982 426.375 945.932 407.44 C 945.837 387.219 942.854 366.476 957.419 350.685 C 968.561 338.605 985.853 339.789 1001.02 339.931 C 1017.57 341.178 1060.4 337.969 1074.34 341.607 C 1080.28 343.165 1085.67 346.364 1089.88 350.84 C 1104.51 366.146 1101.63 389.315 1101.52 408.956 L 1101.17 464.367 C 1056.41 452.869 991.583 456.269 946.466 464.242 z"/>
<path transform="translate(0,0)" fill="rgb(230,116,44)" d="M 1020.86 517.251 C 1052.36 515.302 1053.44 545.422 1061.93 567.82 C 1065.54 577.36 1068.44 587.779 1071.65 597.538 L 1114.24 725.344 C 1078.93 735.418 1047.76 756.495 1025.25 785.51 L 1024.26 786.341 C 1021.61 785.346 1015.28 776.649 1012.05 773.305 C 1006.42 767.584 1000.48 762.187 994.242 757.139 C 974.841 741.632 956.974 733.013 933.755 725.089 C 953.659 669.111 970.622 611.432 990.046 555.216 C 997.096 534.813 997.582 522.851 1020.86 517.251 z"/>
<path transform="translate(0,0)" fill="rgb(248,174,95)" d="M 1019.21 640.36 C 1038.7 637.881 1056.54 651.63 1059.1 671.117 C 1061.66 690.604 1047.99 708.495 1028.51 711.139 C 1008.92 713.799 990.895 700.025 988.318 680.422 C 985.741 660.818 999.591 642.854 1019.21 640.36 z"/>
<path transform="translate(0,0)" fill="rgb(233,81,43)" d="M 899.07 527.076 C 899.862 527.009 900.656 526.952 901.45 526.907 C 908.822 526.507 915.891 528.187 921.378 533.424 C 924.699 536.625 926.915 540.8 927.705 545.345 C 929.515 555.911 928.855 592.262 928.874 604.308 L 928.989 723.578 C 924.451 722.387 919.428 721.326 914.82 720.251 C 902.286 717.533 892.741 716.383 879.939 715.853 C 879.925 694.794 877.711 553.201 881.726 542.774 C 884.906 534.516 891.43 530.545 899.07 527.076 z"/>
<path transform="translate(0,0)" fill="rgb(233,81,43)" d="M 1140.59 527.19 C 1151.92 526.857 1165.93 534.524 1166.59 545.995 C 1169.82 601.652 1165.6 660.172 1167.88 715.748 C 1159.17 715.95 1151.68 716.828 1143.11 718.154 C 1133.99 719.66 1127.64 721.253 1118.67 723.645 L 1118.67 609.859 C 1118.68 589.773 1118.18 569.441 1119.18 549.405 C 1119.81 536.778 1129.35 530.038 1140.59 527.19 z"/>
<path transform="translate(0,0)" fill="rgb(233,81,43)" d="M 1227.7 593.144 C 1261.29 591.584 1254.96 633.536 1254.92 655.763 L 1254.83 727.509 L 1237.94 722.622 C 1225.6 719.983 1217.82 718.371 1205.21 716.749 C 1205.57 696.289 1202.34 617.756 1209.52 604.977 C 1213.33 598.19 1220.55 595.075 1227.7 593.144 z"/>
<path transform="translate(0,0)" fill="rgb(233,81,43)" d="M 814.705 593.085 C 847.971 592.714 842.061 629.096 842.003 652.2 C 841.849 673.71 841.859 695.221 842.034 716.731 C 835.108 717.12 823.924 719.553 816.773 720.902 C 808.91 722.829 800.624 725.394 792.806 727.66 C 792.782 709.828 790.048 616.664 795.484 606.589 C 799.733 598.715 806.391 595.433 814.705 593.085 z"/>
<path transform="translate(0,0)" fill="rgb(44,28,26)" d="M 1023.34 848.641 C 1039.6 822.247 1056.62 801.958 1083.93 785.983 C 1153.46 745.308 1240.7 761.274 1306.28 802.518 C 1314.32 807.557 1322.12 812.972 1329.66 818.747 C 1333.27 821.524 1344.13 830.431 1347.09 831.916 L 1347.4 832.756 C 1374.59 833.366 1404.39 828.685 1424.68 850.797 C 1433.71 860.423 1441.34 875.677 1443.36 888.804 C 1445.95 905.642 1445.03 924.894 1445.03 942.135 C 1444.99 997.87 1445.19 1053.67 1445.04 1109.4 C 1444.97 1131.21 1437.33 1153.21 1421.22 1168.3 C 1398.82 1189.26 1357.48 1184.35 1328.43 1183.6 C 1331.3 1164.85 1333.83 1146.06 1336.03 1127.23 C 1342.88 1067.29 1346.59 1007.04 1347.16 946.717 C 1337.8 932.296 1326.66 919.113 1314 907.48 C 1281.75 877.518 1235 856.664 1190.47 858.556 C 1156.22 860.092 1124.02 875.293 1101.07 900.758 C 1080.21 923.481 1066.47 951.81 1061.53 982.253 C 1058.76 1000.29 1063.43 1026.76 1064.49 1045.47 C 1068.7 1120.09 1077.7 1195.85 1081.49 1270.44 C 1090.68 1269.99 1098.76 1269.4 1107.85 1271.01 C 1123.43 1273.7 1137.25 1282.59 1146.15 1295.65 C 1163.53 1320.91 1158.36 1353.55 1153.14 1381.62 C 1131.38 1381.76 1105.23 1383.58 1084.31 1389.42 C 1063.14 1395.32 1047.81 1406.29 1024.76 1406.35 C 1002.87 1406.4 989.853 1396.76 969.408 1390.7 C 943.078 1382.91 921.503 1381.38 894.572 1381.85 C 880.188 1324.1 893.55 1263.36 965.677 1270.12 C 966.368 1247.95 969.203 1221.32 971.018 1198.72 C 974.533 1156.69 977.759 1114.63 980.695 1072.55 C 983.099 1038.39 990.792 994.437 981.592 962.487 C 959.743 886.617 884.075 840.087 807.164 864.999 C 766.394 878.206 720.624 910.223 700.615 948.559 C 700.98 1000.06 704.094 1051.06 709.043 1102.28 C 709.596 1108 712.791 1123.29 710.215 1127.4 C 712.184 1128.64 712.09 1128.01 712.408 1130.18 C 714.967 1147.67 717.135 1165.52 719.778 1182.99 C 684.794 1183.38 641.744 1190.91 618.589 1159.94 C 599.524 1134.43 602.056 1106.17 602.028 1076.28 L 601.969 1007.97 L 601.953 939.876 C 601.957 923.124 601.266 906.526 603.842 889.919 C 608.218 861.717 628.656 835.517 658.605 832.895 C 665.435 831.344 692.723 831.938 700.981 831.981 C 710.019 824.694 718.5 818.061 728.014 811.397 C 812.505 752.224 936.591 735.532 1007.45 824.926 C 1013.37 832.397 1018.68 840.327 1023.34 848.641 z"/>
<path transform="translate(0,0)" fill="rgb(248,174,95)" d="M 1023.34 848.641 C 1039.6 822.247 1056.62 801.958 1083.93 785.983 C 1153.46 745.308 1240.7 761.274 1306.28 802.518 C 1314.32 807.557 1322.12 812.972 1329.66 818.747 C 1333.27 821.524 1344.13 830.431 1347.09 831.916 L 1347.4 832.756 C 1346.25 850.913 1348.1 871.529 1346.98 888.811 C 1347.23 896.3 1347.27 903.796 1347.1 911.287 C 1326.96 878.301 1305.39 853.223 1271.65 833.323 C 1222.37 804.258 1161.2 800.569 1111.74 831.227 C 1081.58 849.922 1060.19 879.944 1052.37 914.555 C 1046.28 941.147 1049.12 971.182 1050.29 998.568 L 1053.52 1075.09 C 1056.23 1146.71 1057.89 1222.7 1062.03 1294.06 C 1062.94 1321.08 1064.94 1349.06 1065.25 1375.91 C 1025.83 1396.17 1020.65 1396.26 982.014 1375.16 C 983.048 1365.93 982.888 1353.96 983.206 1344.46 C 983.882 1327.68 984.47 1310.9 984.968 1294.11 C 989.194 1228.03 990.964 1156.66 993.534 1090.23 L 996.995 1006.98 C 998.209 977.515 1001.74 937.783 994.217 910.12 C 984.773 875.057 961.543 845.307 929.814 827.644 C 896.395 808.898 853.813 805.253 817.286 815.885 C 765.141 831.062 726.184 866.991 700.228 913.659 L 700.35 887.074 C 700.059 868.909 700.252 850.74 700.926 832.585 C 688.019 832.943 671.302 833.293 658.605 832.895 C 665.435 831.344 692.723 831.938 700.981 831.981 C 710.019 824.694 718.5 818.061 728.014 811.397 C 812.505 752.224 936.591 735.532 1007.45 824.926 C 1013.37 832.397 1018.68 840.327 1023.34 848.641 z"/>
<path transform="translate(0,0)" fill="rgb(230,116,44)" d="M 658.605 832.895 C 671.302 833.293 688.019 832.943 700.926 832.585 C 700.252 850.74 700.059 868.909 700.35 887.074 C 633.782 885.384 637.789 940.313 638.773 987.674 C 639.307 1013.36 638.353 1039.35 638.867 1065.07 C 638.761 1083.89 642.308 1099.79 655.997 1113.57 C 671.568 1129.24 690.03 1127.12 710.215 1127.4 C 712.184 1128.64 712.09 1128.01 712.408 1130.18 C 714.967 1147.67 717.135 1165.52 719.778 1182.99 C 684.794 1183.38 641.744 1190.91 618.589 1159.94 C 599.524 1134.43 602.056 1106.17 602.028 1076.28 L 601.969 1007.97 L 601.953 939.876 C 601.957 923.124 601.266 906.526 603.842 889.919 C 608.218 861.717 628.656 835.517 658.605 832.895 z"/>
<path transform="translate(0,0)" fill="rgb(230,116,44)" d="M 1347.4 832.756 C 1374.59 833.366 1404.39 828.685 1424.68 850.797 C 1433.71 860.423 1441.34 875.677 1443.36 888.804 C 1445.95 905.642 1445.03 924.894 1445.03 942.135 C 1444.99 997.87 1445.19 1053.67 1445.04 1109.4 C 1444.97 1131.21 1437.33 1153.21 1421.22 1168.3 C 1398.82 1189.26 1357.48 1184.35 1328.43 1183.6 C 1331.3 1164.85 1333.83 1146.06 1336.03 1127.23 C 1355.96 1127.32 1374.32 1129.57 1390.08 1115.1 C 1402.03 1104.31 1408.57 1087.72 1408.78 1071.75 C 1409.25 1036.25 1408.75 1000.7 1408.97 965.189 C 1409.05 951.864 1409.42 939.912 1406.26 926.878 C 1404.1 918.056 1399.63 909.963 1393.33 903.42 C 1383.4 892.929 1369.31 886.502 1354.95 886.8 C 1350.57 886.891 1349.55 886.362 1346.98 888.811 C 1348.1 871.529 1346.25 850.913 1347.4 832.756 z"/>
<path transform="translate(0,0)" fill="rgb(233,81,43)" d="M 1062.03 1294.06 C 1080.09 1289.26 1099.2 1284.14 1116.7 1293.81 C 1142.5 1308.06 1140.03 1339.7 1137.01 1364.37 C 1107.61 1363.38 1093.02 1364.75 1065.25 1375.91 C 1064.94 1349.06 1062.94 1321.08 1062.03 1294.06 z"/>
<path transform="translate(0,0)" fill="rgb(233,81,43)" d="M 909.526 1364.14 C 904.029 1305.61 922.338 1275.63 984.968 1294.11 C 984.47 1310.9 983.882 1327.68 983.206 1344.46 C 982.888 1353.96 983.048 1365.93 982.014 1375.16 C 954.614 1363.93 938.411 1362.73 909.526 1364.14 z"/>
<path transform="translate(0,0)" fill="rgb(248,174,95)" d="M 1145.08 1184.57 C 1148.19 1179.19 1151.28 1174.81 1157.32 1172.63 C 1181.1 1164.21 1184 1189.03 1185.38 1205.95 C 1186.64 1221.39 1191.46 1237.82 1196.4 1252.4 C 1210.93 1293.95 1236 1331.02 1269.15 1359.98 C 1273.22 1363.58 1282.23 1371.7 1286.74 1373.93 C 1283.93 1385.03 1279.29 1400.86 1275.46 1411.71 C 1260.01 1401.04 1245.54 1389.03 1232.21 1375.81 C 1183.65 1327.45 1145.26 1254.1 1145.08 1184.57 z"/>
<path transform="translate(0,0)" fill="rgb(248,174,95)" d="M 760.645 1374.03 C 814.902 1333.5 849.347 1281.8 861.905 1214.58 C 864.94 1198.33 861.524 1168.8 886.893 1171.46 C 891.99 1172.01 897.301 1176.2 899.954 1180.32 C 906.587 1189.95 898.721 1221.57 896.051 1233.43 C 882.381 1294.14 847.987 1347.9 801.924 1389.26 C 794.905 1395.56 776.252 1407.84 772.274 1411.76 L 760.645 1374.03 z"/>
<path transform="translate(0,0)" fill="rgb(248,174,95)" d="M 1295.37 1342.72 C 1253.82 1309.96 1223.15 1265.12 1212.35 1212.94 C 1209.37 1198.54 1204.27 1173.22 1225.92 1171.05 C 1233.53 1170.27 1240.88 1174.12 1244.58 1180.82 C 1247.76 1186.49 1248.84 1203.04 1250.54 1210.41 C 1258.51 1245.02 1278.51 1279.85 1305.44 1302.87 C 1302.22 1315.71 1298.95 1330.11 1295.37 1342.72 z"/>
<path transform="translate(0,0)" fill="rgb(248,174,95)" d="M 742.299 1302.92 C 770.699 1276.77 788.083 1247.46 797.351 1209.72 C 799.696 1200.17 798.738 1182.58 807.298 1176.07 C 830.555 1162.28 840.358 1180.15 837.146 1200.52 C 828.214 1257.15 797.44 1308.33 752.434 1342.91 C 749.022 1330 745.021 1315.89 742.299 1302.92 z"/>
<path transform="translate(0,0)" fill="rgb(233,81,43)" d="M 1022.86 1461.63 C 1038.63 1452.51 1052.17 1446.91 1071.3 1452.39 C 1111.49 1463.9 1140.17 1503.52 1161.14 1537.38 C 1162.72 1539.94 1164.35 1543.07 1164.81 1545.92 L 1162.69 1550.97 C 1162.79 1551.81 1162.92 1552.65 1162.8 1553.49 C 1152.52 1625.91 1080.05 1670.13 1010.9 1664.84 C 973.469 1661.65 938.816 1643.8 914.49 1615.18 C 902.139 1600.64 883.624 1570.24 885.268 1550.88 C 883.275 1544.92 883.447 1543.35 886.812 1537.46 C 906.346 1503.26 935.467 1466.73 973.827 1453.32 C 992.323 1446.86 1007.4 1451.11 1022.86 1461.63 z"/>
<path transform="translate(0,0)" fill="rgb(44,28,26)" d="M 885.268 1550.88 C 911.271 1591.74 943.625 1625.64 992.618 1636.43 C 1030.71 1644.85 1070.58 1637.68 1103.35 1616.52 C 1128.24 1600.37 1147.67 1576.26 1162.69 1550.97 C 1162.79 1551.81 1162.92 1552.65 1162.8 1553.49 C 1152.52 1625.91 1080.05 1670.13 1010.9 1664.84 C 973.469 1661.65 938.816 1643.8 914.49 1615.18 C 902.139 1600.64 883.624 1570.24 885.268 1550.88 z"/>
<path transform="translate(0,0)" fill="rgb(44,28,26)" d="M 1006.97 1517.41 C 1051.94 1512.76 1100.56 1528.05 1142.06 1544.28 C 1111.16 1557.56 1077.67 1568 1044.24 1571.77 C 1003.41 1577.96 944.475 1561.54 906.499 1544.4 C 938.316 1530.05 972.243 1520.93 1006.97 1517.41 z"/>
<path transform="translate(0,0)" fill="rgb(248,174,95)" d="M 1184.1 905.406 C 1200.38 903.946 1218.82 907.005 1234.06 912.736 C 1276.8 928.809 1299.27 960.57 1317.65 1000.26 C 1294.58 1053.35 1262.24 1085.33 1203.74 1093.9 C 1140.02 1096.95 1089.64 1059.29 1067.89 1000.07 C 1072.23 985.978 1084.32 965.249 1093.8 954.035 C 1119.17 924.024 1145.48 909.311 1184.1 905.406 z"/>
<path transform="translate(0,0)" fill="rgb(44,28,26)" d="M 1180.65 964.387 C 1217.43 958.349 1260.03 976.913 1287.91 999.848 C 1264.48 1019.23 1237.69 1031.78 1207.25 1034.91 C 1206.07 1035 1204.89 1035.08 1203.71 1035.16 C 1164.92 1037.82 1126.66 1025 1097.31 999.509 C 1120.78 978.937 1149.97 967.944 1180.65 964.387 z"/>
<path transform="translate(0,0)" fill="rgb(248,174,95)" d="M 852.881 905.401 C 868.277 905.257 883.568 907.939 897.995 913.314 C 938.856 928.783 962.73 961.134 979.984 999.594 C 975.367 1015.56 961.495 1037.85 950.32 1050.13 C 924.798 1078.16 895.485 1092.61 857.751 1094.44 C 840.668 1094.7 823.714 1091.43 807.95 1084.84 C 770.352 1068.87 745.794 1037.07 730.635 1000.04 C 750.839 945.613 794.485 908.997 852.881 905.401 z"/>
<path transform="translate(0,0)" fill="rgb(44,28,26)" d="M 841.565 964.368 C 883.828 960.834 917.587 973.139 950.265 999.54 C 930.292 1019.24 897.879 1031.3 870.301 1034.62 C 834.026 1041.39 788.109 1022.92 760.874 999.533 C 785.869 979.554 809.685 968.291 841.565 964.368 z"/>
<path transform="translate(0,0)" fill="rgb(0,0,0)" d="M 949.509 141.47 L 962.455 141.856 C 957.443 167.243 952.069 192.557 946.332 217.789 L 931.802 217.764 C 927.66 199.383 923.394 181.03 919.005 162.707 C 915.241 180.608 910.315 199.89 905.703 217.624 L 891.102 217.798 C 886.971 201.091 883.476 183.656 879.883 166.777 L 875.003 141.988 L 888.493 142.027 C 892.619 159.062 896.913 184.488 898.722 201.773 L 913.785 142.019 L 925.766 141.939 C 929.218 160.228 934.713 181.424 938.987 199.769 C 941.86 183.095 945.52 157.204 949.509 141.47 z"/>
<path transform="translate(0,0)" fill="rgb(0,0,0)" d="M 1115.59 141.913 L 1131.23 141.859 C 1137.23 164.403 1148.12 195.047 1155.45 217.786 L 1141.5 217.77 C 1139.61 212.556 1137.31 200.914 1133.93 198.033 L 1110.62 198.285 C 1109.06 204.534 1107.05 211.201 1105.3 217.444 L 1092.16 217.571 C 1098.05 194.395 1108.13 165.35 1115.59 141.913 z"/>
<path transform="translate(0,0)" fill="rgb(255,255,255)" d="M 1122.82 156.437 C 1124.87 159.963 1130.51 181.399 1131.68 186.11 C 1129.89 187.545 1127.05 187.037 1124.14 187.13 C 1121.02 187.118 1117.32 187.506 1114.68 186.177 C 1117.24 176.221 1119.95 166.306 1122.82 156.437 z"/>
<path transform="translate(0,0)" fill="rgb(0,0,0)" d="M 988.784 141.702 L 1004.18 141.595 C 1011.71 166.827 1021.28 192.114 1028.35 217.369 L 1014.4 217.329 C 1012.98 212.504 1010.52 199.665 1006.15 198.021 C 998.897 197.945 991.24 198.332 983.954 198.586 C 982.428 205.354 980.457 211.197 978.321 217.785 L 965.477 217.516 C 972.319 192.934 981.159 166.237 988.784 141.702 z"/>
<path transform="translate(0,0)" fill="rgb(255,255,255)" d="M 996.138 156.576 C 998.269 160.21 1003.77 181.079 1004.76 185.904 C 1002.74 187.5 1002.05 186.957 998.875 187.132 C 994.641 187.147 992.026 187.503 988.113 186.132 C 988.85 180.117 994.213 163.192 996.138 156.576 z"/>
<path transform="translate(0,0)" fill="rgb(0,0,0)" d="M 1036.4 141.674 C 1044.03 141.61 1081.73 139.839 1084.59 144.032 C 1085.46 152.714 1083.17 155.439 1078.47 162.57 C 1068.8 177.227 1058.95 191.813 1049.17 206.388 L 1086.69 206.11 C 1086.68 210.906 1086.4 212.934 1085.63 217.691 C 1070.69 217.759 1055.21 218.065 1040.26 217.93 C 1036.58 217.897 1035.45 217.574 1033.62 215.379 C 1032.5 204.535 1061.45 165.326 1069.38 153.63 C 1058.93 153.196 1046.87 153.665 1036.31 153.831 L 1036.4 141.674 z"/>
</svg>`;

import { EditorToolbar } from "./editor-toolbar";
import { PathList } from "./path-list";
import { PropertiesPanel } from "./properties-panel";
import { CropPanel } from "./crop-panel";
import { SvgCanvas } from "./svg-canvas";
import {
  SvgEditorProvider,
  useSvgEditorContext,
} from "./contexts/svg-editor-context";
import { generateSvgCode } from "./utils/svg-parser";

export type PathElement = {
  id: string;
  d: string;
  fill: string;
  stroke: string;
  strokeWidth: number;
};

export type SvgData = {
  width: number;
  height: number;
  viewBox: string;
  paths: PathElement[];
};

type SvgEditorProps = {
  id: string;
  initialSvgCode?: string;
  onSave?: (svgCode: string) => void;
};

export function SvgEditor({
  id,
  initialSvgCode = sampleSvg,
  onSave,
}: SvgEditorProps) {
  return (
    <SvgEditorProvider initialSvgCode={initialSvgCode}>
      <SvgEditorContent onSave={onSave} />
    </SvgEditorProvider>
  );
}

function SvgEditorContent({ onSave }: { onSave?: (svgCode: string) => void }) {
  const { svgData, isCropMode } = useSvgEditorContext();

  const handleSave = () => {
    const svgCode = generateSvgCode(svgData);
    onSave?.(svgCode);
  };

  return (
    <div className="flex h-screen flex-col">
      <EditorToolbar onSave={handleSave} />

      <div className="relative flex-1 overflow-hidden">
        <main
          role="main"
          aria-label="SVG編集キャンバス"
          className="h-full overflow-auto"
        >
          <SvgCanvas />
        </main>

        <aside
          className="absolute top-2 left-2 h-full w-64"
          role="complementary"
          aria-label="パス一覧"
        >
          <PathList />
        </aside>

        <aside
          className="absolute top-2 right-2 h-full w-80"
          role="complementary"
          aria-label={isCropMode ? "クロップ設定" : "プロパティパネル"}
        >
          {isCropMode ? <CropPanel /> : <PropertiesPanel />}
        </aside>
      </div>
    </div>
  );
}
